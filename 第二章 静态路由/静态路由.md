# 一 、 静态路由

## 1.1 概述

对于一台使用TCP/IP协议连接到网络的一台主机来说，要想成功的与其他网络连接通信，TCP/IP就必须了解三信息

- IP地址
- 默认网关
- 子网掩码

[![BKkCid.png](https://s1.ax1x.com/2020/10/26/BKkCid.png)](https://imgchr.com/i/BKkCid)

如上图所示，你会看到三个重要的信息：ipv4地址、子网掩码、默认网关；在同一子网下 默认网关和子网掩码是一样的。

## 1.2 网关

网关就是一个网络连接到另一个网络的“关口”。它实质上是一个网络通向另外网络的ip地址。不同网络之间的接口。从一个网络到另一个网络的转发点。

## 1.3 默认网关

对于不在同一网络的ip地址，想要互相通信，就必须依赖网关。这个功能是由**路由器**，即三层设备来完成。

默认网关：就像一个房间有多扇门一样，一台主机可以有多个网关，默认网关是指一台主机如果找不到一台可以用的网关，就会把数据包发送给默认网关。

## 1.4 网关的值

网关的值一般是取本网段的最后一个ip地址。

# 二、mac、ip、port三类地址

想要数据在网络中可以正常的通信，那么有三个地址是必不可少的。

- 端口号
- ip地址
- mac地址

## 2.1 端口号

端口号的作用是让应用层的各种应用进程都能将其数据通过端口向下交付给传输层，以及让传输层知道应当将其报文段中的数据向上传送给应用层的每个应用进程。从这个意义上讲，每一个端口就相当于每一个应用进程。

**注意事项**

- 端口号用一个16bit端口号进行标志。
- 端口号只具有本地意义，即端口号只是标志本地计算机应用层的各个进程。在英特网中不同计算机相同端口号是没有任何关联的。

一般来说，端口号大致分三类：

- 公认端口：0~1023，它们紧密绑定于一些服务。通常这些端口通讯明确表明了某种服务的协议。例如80端口是http协议（超文本传输协议）通信。
- 注册端口：1024~49151。它们松散绑定于一些服务。也就是许多服务绑定了这些端口，例如：许多系统处理动态端口从1024左右开始。
- 动态端口或者是私有端口：从49152到65535。理论上，不应该为服务分配这些端口。实际上机器从1024起开始分配动态端口。

## 2.2 常见端口号介绍

**图片**

21	FTP传输协议

23	Telnet远程登录

25	SMTP简单文件传输协议

53	DNS域名解析协议

80	HTTP超文本传输协议

119	NNTP网络新闻传输协议

161	SNMP简单网络管理协议

8000、8001	QQ服务器端口

## 2.3 MAC地址

网络上的设备有一个唯一地址---MAC地址，也叫物理地址，也叫网卡地址。

MAC地址由48bit组成，通常由12位16进制表示

前6位16进制数字通常由IEEE负责统一分发，用来确定厂商的唯一性

后6位16进制数字由各厂商自行管理

**查看MAC地址**

**图片**

## 2.4 IP地址

IP地址工作在网络层，完成数据包寻址

**图片**

## 2.5 物理地址vs逻辑（IP）地址

**物理地址**

- 固化在物理设备上
- 每个端口仅有一个物理地址
- 访问物理介质时使用

**网络地址（ip地址）**

在软件系统中设定

每个端口号可有多个网络地址

网间寻址时使用。

# 三、路由器

在互联网中进行路由选择所使用的设备，或者说实现路由的设备，我们称之为路由器。

路由器关键功能：

- 检查数据包的目的地

- 确定信息源

- 发现可能的路由

- 选择最佳的路由

- 验证和维护路由信息

## 3.1 什么是路由

路由是指导IP报文发送的路劲信息

**图片**

## 3.2 路由表

路由器工作时依赖于路由表进行数据转发。路由表相当于一张地图，它包含着去往各个路由的信息，每条信息至少包含三个内容：

- 目的网络：表明路由器可以到达的网络地址，可以理解为去哪里
- 下一跳：通常情况下，下一跳一般指向去往目的网络的下一个路由器的接口地址，称之为下一跳路由器。
- 出接口：表明数据包从本路由器的哪个接口发送出去。

## 3.3 静态路由和动态路由

**静态路由**

- 由网络管理员手工指定的路由
- 当网络拓扑发生变化时，需要管理员手工更新静态路由

**动态路由**

- 路由器使用路由协议从其他路由器那获悉的路由
- 当网络拓扑发生变化时，路由器会更新路由信息

# 四、静态路由的配置



